---
import LandingStatsSlideshow from "@/components/Landing/LandingStatsSlideshow";

import Container from "@/components/Common/Container";
import { getEvents } from "@/content/events";
import { getVenues } from "@/content/venues";
import SimpleSection from "../Common/SimpleSection";

// Use the filtered getters which already handle devOnly filtering
const events = await getEvents();
const venues = await getVenues();

// Calculate stats
const totalEvents = events.length;
const uniqueVenues = venues.length;
---

<Container>
  <div class="flex flex-col items-center justify-center gap-20 lg:flex-row">
    <div class="h-90 w-90">
      <LandingStatsSlideshow client:visible totalEvents={totalEvents} uniqueVenues={uniqueVenues} />
    </div>

    <div class="flex max-w-xl flex-col gap-8 text-center">
      <SimpleSection
        title="About OKTech"
        button={{ text: "Learn More", href: "/about", ariaLabel: "Learn More About OKTech" }}
      >
        <p class="text-lg">
          A volunteer, non-profit group organizing monthly meetups in the Kansai region of Japan. We
          invite people from all walks of web-life and encourage members to present topics they
          enjoy. Join us for technical workshops, study sessions, and social gatherings in Osaka and
          Kyoto.
        </p>
      </SimpleSection>
    </div>
  </div>
</Container>
