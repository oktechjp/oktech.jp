---
import fs from "fs/promises";
import path from "path";
import yaml from "yaml";
import EventLinksComponent from "./EventLinks";
import type { EventLink } from "./EventLinks";

interface Props {
  eventId: string;
}

const { eventId } = Astro.props;

// Load links for this event
let links: EventLink[] = [];
try {
  const linksPath = path.join(process.cwd(), "content", "events", eventId, "links.yaml");
  const linksContent = await fs.readFile(linksPath, "utf-8");
  links = yaml.parse(linksContent) as EventLink[];
} catch (error) {
  // No links.yaml file found for this event
}
---

<EventLinksComponent links={links} />
