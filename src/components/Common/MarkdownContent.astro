---
interface Props {
  markdown: string;
  class?: string;
}

const { markdown, class: className = "prose prose-lg max-w-none" } = Astro.props;

// Import all markdown files from content directory
const markdownFiles = import.meta.glob("/content/**/*.md");

// Normalize the path to match the glob pattern
// check markdown file name without date
const fullPath = `/content/${markdown}`.replace(/-(\d{4}-\d{2}-\d{2})\//, "/");

if (!markdownFiles[fullPath]) {
  throw new Error(`Markdown file not found: ${fullPath}`);
}

const module = (await markdownFiles[fullPath]()) as any;
const { Content } = module;
---

<div class={className}>
  <Content />
</div>
